@use '../abstracts' as *;

// ====== xdsoft_datetimepicker 커스텀 스킨 ======
.xdsoft_datetimepicker {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    background: #fff;
    border: 1px solid #e5e8ee;
    border-radius: 8px;
    color: #333;
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    padding: 12px;
    position: absolute;
    z-index: 9999;
    box-sizing: border-box;
    overflow: visible !important; // 드롭다운이 잘리지 않도록 (원본 CSS 덮어쓰기)
    max-height: none !important; // 높이 제한 제거
    height: auto !important; // 자동 높이
    
    // 캘린더와 기본 요소들은 overflow 제거 (드롭다운 제외)
    .xdsoft_calendar,
    .xdsoft_datepicker,
    .xdsoft_monthpicker {
        overflow: visible !important;
        max-height: none !important;
    }
    
    // 스크롤러 박스도 overflow 제거
    .xdsoft_scroller_box {
        overflow: visible !important;
    }
    
    // 헤더 영역 (월/년 선택)
    .xdsoft_monthpicker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
        padding: 4px 4px 8px;
        margin-bottom: 4px;
        border-bottom: 1px solid #e5e8ee;
    }
    
    .xdsoft_label {
        display: inline-flex;
        align-items: center;
        position: relative;
        z-index: 9999;
        margin: 0 2px;
        padding: 6px 8px;
        font-size: 15px;
        line-height: 1.2;
        font-weight: 600;
        background-color: transparent;
        text-align: center;
        cursor: pointer;
        color: #333;
        border-radius: 6px;
        transition: background-color 0.2s ease;
        
        &:hover {
            background-color: #f5f5f5;
        }
        
        i {
            opacity: 0.6;
            display: inline-block;
            width: 9px;
            height: 20px;
            vertical-align: middle;
            margin-left: 8px;
        }
    }
    
    // 이전/다음/오늘 버튼
    .xdsoft_prev,
    .xdsoft_next,
    .xdsoft_today_button {
        background-color: transparent;
        background-repeat: no-repeat;
        border: 0 none;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 32px;
        width: 32px;
        opacity: 0.7;
        outline: medium none;
        overflow: hidden;
        padding: 0;
        position: relative;
        text-indent: 100%;
        white-space: nowrap;
        border-radius: 6px;
        transition: all 0.2s ease;
        
        &:hover {
            opacity: 1;
            background-color: #f5f5f5;
        }
    }
    
    .xdsoft_prev {
        float: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'/%3E%3C/svg%3E");
        background-position: center;
        background-size: 16px;
    }
    
    .xdsoft_next {
        float: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3C/svg%3E");
        background-position: center;
        background-size: 16px;
    }
    
    .xdsoft_today_button {
        float: none;
        margin-left: 0;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z'/%3E%3C/svg%3E");
        background-position: center;
        background-size: 16px;
    }
    
    // datepicker 컨테이너
    .xdsoft_datepicker {
        overflow: visible !important; // 드롭다운이 잘리지 않도록 (원본 CSS 덮어쓰기)
    }
    
    // monthpicker 컨테이너
    .xdsoft_monthpicker {
        overflow: visible !important;
    }
    
    // 캘린더 테이블
    .xdsoft_calendar {
        clear: both;
        margin-top: 8px;
        
        table {
            border-collapse: collapse;
            width: 100%;
        }
        
        th {
            height: 36px;
            background: #f8f9fa;
            border: none;
            color: #666;
            font-size: 13px;
            text-align: center;
            vertical-align: middle;
            padding: 0;
            font-weight: 600;
            cursor: default;
        }
        
        td {
            width: 14.2857142%;
            background: #fff;
            border: none;
            color: #333;
            font-size: 14px;
            text-align: center;
            vertical-align: middle;
            padding: 0;
            cursor: pointer;
            height: 36px;
            border-radius: 6px;
            transition: all 0.2s ease;
            
            > div {
                padding: 0;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            // 오늘 날짜
            &.xdsoft_today {
                color: #2196F3;
                font-weight: 600;
            }
            
            // 선택된 날짜
            &.xdsoft_current,
            &.xdsoft_default {
                background: #2196F3;
                color: #fff;
                font-weight: 600;
            }
            
            // 호버
            &:hover:not(.xdsoft_disabled):not(.xdsoft_other_month) {
                background: #e3f2fd;
                color: #1976D2;
            }
            
            // 비활성화된 날짜
            &.xdsoft_disabled,
            &.xdsoft_other_month {
                opacity: 0.3;
                cursor: default;
                color: #ccc;
                
                &:hover {
                    background: transparent;
                    color: #ccc;
                }
            }
            
            // 하이라이트된 날짜
            &.xdsoft_highlighted_default {
                background: #fff3e0;
                color: #f57c00;
            }
        }
    }
    
    // 월/년 선택 드롭다운
    .xdsoft_label > .xdsoft_select {
        border: 1px solid #e5e8ee;
        position: absolute;
        right: 0;
        top: 36px;
        z-index: 101;
        display: none;
        background: #fff;
        max-height: 200px;
        overflow-y: auto !important; // 원본 CSS의 overflow-y: hidden 덮어쓰기
        overflow-x: hidden !important; // 가로 스크롤 방지
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        min-width: 120px;
        
        // 드롭다운 내부 스크롤바만 표시되도록
        &::-webkit-scrollbar {
            width: 6px;
        }
        
        &::-webkit-scrollbar-track {
            background: transparent;
        }
        
        &::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 3px;
            
            &:hover {
                background: #999;
            }
        }
        
        > div {
            > .xdsoft_option {
                padding: 8px 16px;
                text-decoration: none !important;
                display: block;
                color: #333;
                font-size: 14px;
                transition: all 0.2s ease;
                
                &:hover {
                    color: #fff;
                    background: #2196F3;
                }
                
                &.xdsoft_current {
                    background: #2196F3;
                    color: #fff;
                    font-weight: 600;
                }
            }
        }
    }
    
    // 시간 선택기
    .xdsoft_timepicker {
        .xdsoft_time_box {
            height: 151px;
            overflow-y: auto;
            overflow-x: hidden;
            border: 1px solid #e5e8ee;
            border-radius: 6px;
            
            > div > div {
                background: #fff;
                border-top: 1px solid #f0f0f0;
                color: #333;
                font-size: 13px;
                text-align: center;
                cursor: pointer;
                height: 30px;
                line-height: 30px;
                transition: all 0.2s ease;
                
                &:first-child {
                    border-top: none;
                }
                
                &:hover {
                    background: #e3f2fd;
                    color: #1976D2;
                }
                
                &.xdsoft_current {
                    background: #2196F3;
                    color: #fff;
                    font-weight: 600;
                }
                
                &.xdsoft_disabled {
                    opacity: 0.3;
                    cursor: default;
                    
                    &:hover {
                        background: #fff;
                        color: #333;
                    }
                }
            }
        }
        
        .xdsoft_prev,
        .xdsoft_next {
            float: none;
            height: 24px;
            width: 100%;
            display: block;
            margin: 8px 0;
            background-position: center;
            background-size: 16px;
        }
        
        .xdsoft_prev {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z'/%3E%3C/svg%3E");
        }
        
        .xdsoft_next {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z'/%3E%3C/svg%3E");
        }
    }
    
    // 스크롤바 (시간 선택기용만, 드롭다운에는 사용 안 함)
    .xdsoft_scrollbar {
        position: absolute;
        width: 6px;
        right: 0;
        top: 0;
        bottom: 0;
        cursor: pointer;
        
        > .xdsoft_scroller {
            background: #ccc !important;
            height: 20px;
            border-radius: 3px;
            transition: background 0.2s ease;
            
            &:hover {
                background: #999 !important;
            }
        }
    }
    
    // 드롭다운에는 스크롤바가 생기지 않도록 (드롭다운 자체의 스크롤만 사용)
    .xdsoft_label > .xdsoft_select .xdsoft_scrollbar {
        display: none !important;
    }
    
    // 인라인 모드
    &.xdsoft_inline {
        display: inline-block;
        position: static;
        box-shadow: none;
        border: 1px solid #e5e8ee;
    }
}
